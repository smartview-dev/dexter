<main>
  <section class="flex flex-col w-screen h-screen">
    <figure class="flex justify-center my-5">
      <img
        height="300"
        width="300"
        priority="true"
        [ngSrc]="loginImage"
        [alt]="loginAlt"
        class="object-cover"
      />
    </figure>

    <form
      class="mx-auto w-11/12 md:w-2/3 lg:w-1/3"
      [formGroup]="form"
      (submit)="doLogin()"
    >
      <app-alert
        *ngIf="status() === 'failed'"
        type="error"
        message="Datos incorrectos"
        [style]="'outline'"
        class="my-4"
      />

      <fieldset
        class="fieldset bg-base-200 border border-base-200 p-4 rounded-box"
      >
        <legend class="fieldset-legend">Iniciar Sesión</legend>

        <label class="label" for="email">Correo Electrónico</label>
        <input
          formControlName="email"
          type="email"
          class="input w-full validator"
          placeholder="me@example.com"
          name="email"
          id="email"
          autocomplete="off"
          required
        />

        <label class="label" for="password">Contraseña</label>
        <input
          formControlName="password"
          type="password"
          class="input w-full validator"
          placeholder="Contraseña"
          name="password"
          id="password"
          required
          minlength="5"
          title="La contraseña debe tener al menos 5 caracteres."
        />

        <button
          class="btn btn-neutral mt-4"
          [disabled]="status() === 'loading'"
        >
          <span
            *ngIf="status() === 'loading'"
            class="loading loading-dots loading-md"
          ></span>
          Iniciar Sesión
        </button>
      </fieldset>
    </form>

    <footer class="flex justify-center my-5">
      <a class="text-xs" href="https://storyset.com/online" target="_blank"
        >Online illustrations by Storyset</a
      >
    </footer>
  </section>
</main>
